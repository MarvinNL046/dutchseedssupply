# Database Setup Instructions

This directory contains SQL scripts for setting up the database tables and users in Supabase.

## Files

- `create_users_table.sql`: Creates the users table with proper Row Level Security (RLS) policies
- `insert_admin_user.sql`: Inserts an admin user into the users table (this will be generated by the script)
- `orders_schema.sql`: Creates the orders table with proper RLS policies

## Setup Steps

1. First, create the admin user in Supabase Authentication:

```bash
# Install dependencies if needed
npm install dotenv @supabase/supabase-js

# Run the script to create the admin user
node scripts/create_admin_user.js
```

2. This script will:
   - Create a user in Supabase Authentication with email 'marvinsmit1988@gmail.com' and password 'Admin123!'
   - Generate the `insert_admin_user.sql` file with the correct user ID

3. Go to the Supabase dashboard and open the SQL Editor

4. Run the `create_users_table.sql` script to create the users table with proper RLS policies

5. Run the generated `insert_admin_user.sql` script to insert the admin user into the users table

6. You should now be able to log in with the admin user and access the admin dashboard

## Troubleshooting

If you encounter any issues:

1. Check that the user was created in Supabase Authentication
2. Verify that the users table was created with the correct structure
3. Confirm that the RLS policies are set up correctly
4. Make sure the admin user was inserted into the users table with the 'admin' role
